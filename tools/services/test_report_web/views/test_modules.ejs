    
    <%- include index.ejs %>
    <%- include navbar.ejs %>
    <%if (view=="list_tests_page") { %>

    <%    function getCapabilitiesToHighlight(test_record) {
        let capabilitiesToHighlight = [];
        if (test_record["capabilities"])
        {
            if (test_record["capabilities"].indexOf("flexray") >= 0) {
                capabilitiesToHighlight.push("flexray");
            }
            if (test_record["capabilities"].indexOf("apix") >= 0) {
                capabilitiesToHighlight.push("apix");
            }
            if (test_record["capabilities"].indexOf("audio") >= 0) {
                capabilitiesToHighlight.push("audio");
            }
            if (test_record["capabilities"].indexOf("cem") >= 0) {
                capabilitiesToHighlight.push("cem");
            }
        }
        return capabilitiesToHighlight;
    };
    %>        
    <div class="container">
            <% if (view=="list_tests_page") {%>
                <div style="text-align:center; font-size:160%;"><h1>
                <%if (top_job_name=="ihu_hourly"){%>
                    Hourly Report
                <%}%>
                <%if (top_job_name=="ihu_daily"){%>
                    Daily Report
                <%}%>
                <%if (top_job_name=="ihu_gate"){%>
                    Gate Report
                <%}%>
                <%if (top_job_name=="ihu_vts"){%>
                    VTS Report
                <%}%>
                <%if (top_job_name=="ihu_staging"){%>
                    Staging Report
                <%}%>
                #<%=build_numbers%></h1></div>
            <% } %>
        <table class="table table-hover table-striped table-bordered display" id="result_table" >
            <thead>
                <tr style="color:white;background-color:#15317E;">
                    <th>Test Modules</th>
                    <th>Type</th>
                    <th>Job Name</th>
                    <th>Test Time(sec)</th>
                    <th>Started Time</th>
                    <th>Total Time(sec)</th>
                    <th>Node</th>
                    <th>Result</th>
                </tr>
            </thead>
            <tbody>
            <% for(var i=0; i < basic_test_detail.length; i++) { %>
            <tr>
                <td>
                    <a href=<%= "/detailed_view?id="+basic_test_detail[i]._id  %> >
                        <%= basic_test_detail[i].module_name %>
                    </a>
                </td>
                <td><%= basic_test_detail[i].test_type %></td>
                <td>
                    <a href=<%= "https://icup_android.jenkins.cm.volvocars.biz/view/Hourly_Daily_Pipeline/job/" + basic_test_detail[i].job_name + "/" + basic_test_detail[i].test_job_build_number %> target="_blank">
                        <%= basic_test_detail[i].job_name %>
                    </a>
                </td>
                <td>
                        <%= Math.round(basic_test_detail[i]["runtime"] / 1000)%>
                        
                </td>
                <td>
                        <%= basic_test_detail[i]["started_at"]%>
                        
                </td>
                <td>
                        <%= Math.round((basic_test_detail[i]["finished_at"]-basic_test_detail[i]["started_at"]) / 1000)%>
                        
                </td>
                <td>
                    <% getCapabilitiesToHighlight(basic_test_detail[i]).forEach((c) => { %> 
                        <span class="badge badge-secondary"><%= c %></span>
                    <% }); %>
                </td>
                <% if (basic_test_detail[i].result==true){ %>
                <td><span class="badge badge-success">Success</span></td>
                <% } %>
                <% if (basic_test_detail[i].result==false){ %>
                <td><span class="badge badge-danger">Failure</span></td>
                <% } %>
            </tr>
            <% } %>
            </tbody>
        </table>

    </div>

    <% } %>